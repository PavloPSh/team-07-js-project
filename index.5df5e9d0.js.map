{"mappings":"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","sources":["src/index.js","src/js/homeRendering.js","src/js/scroll.js","src/js/theme.js"],"sourcesContent":["import './js/loader.js'\nimport './js/form.js';\nimport './js/homeRendering.js';\nimport './js/apiServiсe.js';\nimport './js/scroll.js';\nimport './js/modal-footer.js';\nimport './js/popup-modal';\nimport './js/theme';\n\n","import filmsAPI from './apiServiсe';\nimport { renderCard } from './renderCard';\nimport { getGenreName } from './getGenreName';\n\nconst trendingFilms = new filmsAPI();\nconst mainSection = document.querySelector('.card__list');\nconst homeBtn = document.querySelector('.header__nav-link');\nconst logoLink = document.querySelector('.header__logo');\nconst loader = document.querySelector('.loader__wrapper');\n\nasync function TrendingFilms(event) {\n  event.preventDefault();\n  document.querySelector('#search-form').firstElementChild.value = '';\n  trendingFilms.currentPage = 1;\n  mainSection.innerHTML = '';\n  try {\n    loader.classList.remove('hidden');\n    const result = await trendingFilms.getTrendingFilms();\n    result.data.results.forEach(film => {\n      const {\n        title,\n        name,\n        poster_path,\n        id,\n        vote_average,\n        genre_ids,\n        first_air_date,\n        release_date,\n      } = film;\n      let genre = getGenreName(genre_ids);\n      renderCard(\n        id,\n        poster_path,\n        title,\n        name,\n        genre,\n        first_air_date,\n        release_date,\n        vote_average\n      );\n    });\n    loader.classList.add('hidden');\n  } catch (error) {\n    console.log('error');\n  }\n  infinteScroll();\n}\nlogoLink.addEventListener('click', TrendingFilms);\nhomeBtn.addEventListener('click', TrendingFilms);\nwindow.addEventListener('load', TrendingFilms);\n\nasync function LoadMorePhoto() {\n  trendingFilms.currentPage += 1;\n  try {\n    const result = await trendingFilms.getTrendingFilms();\n    result.data.results.forEach(film => {\n      const {\n        title,\n        name,\n        poster_path,\n        id,\n        vote_average,\n        genre_ids,\n        first_air_date,\n        release_date,\n      } = film;\n      let genre = getGenreName(genre_ids);\n      renderCard(\n        id,\n        poster_path,\n        title,\n        name,\n        genre,\n        first_air_date,\n        release_date,\n        vote_average\n      );\n    });\n  } catch (error) {\n    console.log('error');\n  }\n  infinteScroll();\n}\n\nconst infinteObserver = new IntersectionObserver(\n  ([entry], observer) => {\n    // перевірка останього елемента\n    if (entry.isIntersecting) {\n      // перестаємо його відслідковувати\n      observer.unobserve(entry.target);\n      // Завантажуємо нову порцію контенту\n      LoadMorePhoto();\n    }\n  },\n  { threshold: 0.5 }\n);\n\nconst infinteScroll = () => {\n  const lastCard = document.querySelector('.card__item:last-child');\n  if (lastCard) {\n    infinteObserver.observe(lastCard);\n  }\n};\n","const toTopBtn = document.querySelector('.btn-to-top');\n\nwindow.addEventListener('scroll', onScroll);\ntoTopBtn?.addEventListener('click', onToTopBtn);\n\nfunction onScroll() {\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    toTopBtn.classList.add('btn-to-top--visible');\n  }\n  if (scrolled < coords) {\n    toTopBtn.classList.remove('btn-to-top--visible');\n  }\n}\n\nfunction onToTopBtn() {\n  if (window.pageYOffset > 0) {\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }\n}\n\nexport { onScroll, onToTopBtn };\n","if (!localStorage.theme) localStorage.theme = \"light\" \ndocument.body.className = localStorage.theme\n\n\ntoggleThemeBtn.onclick = () => {\n    document.body.classList.toggle(\"dark\")\n    // localStorage.theme = document.body.className || \"light\"\n    \n   \n}\n\nlet changeThemeButtons = document.querySelectorAll('.changeTheme');\n\nchangeThemeButtons.forEach(button => {\n    button.addEventListener('click', function () {\n        applyTheme(this.dataset.theme)\n        // let theme = this.dataset.theme;\n        // alert (theme)\n        // applyTheme(theme);\n        localStorage.setItem('theme', this.dataset.theme)\n    });\n});\nfunction applyTheme(themeName) {\n    \n    changeThemeButtons.forEach(button => {\n        button.style.display = 'block';\n    \n    });\n    document.querySelector(`[data-theme=\"${themeName}\"]`).style.display = 'none';\n    localStorage.setItem('theme', themeName);\n}\n\n\nlet activeTheme = localStorage.getItem('theme'); \n\nif(activeTheme === null || activeTheme === 'light') { \n    applyTheme('light');\n} else if (activeTheme === 'dark') { \n    applyTheme('dark');\n}"],"names":["require","parcelHelpers","_renderCard","_getGenreName","trendingFilms","default","mainSection","document","querySelector","homeBtn","logoLink","loader","TrendingFilms","event","_TrendingFilms","apply","this","arguments","_asyncToGeneratorJsDefault","_regeneratorRuntimeDefault","mark","_callee","preventDefault","firstElementChild","value","currentPage","innerHTML","classList","remove","getTrendingFilms","_ctx","sent","data","results","forEach","film","title","name","poster_path","id","vote_average","genre_ids","first_air_date","release_date","genre","getGenreName","renderCard","add","console","log","infinteScroll","_LoadMorePhoto","addEventListener","window","infinteObserver","IntersectionObserver","param","observer","entry","isIntersecting","unobserve","target","LoadMorePhoto","threshold","lastCard","observe","export","exports","onScroll","onToTopBtn","toTopBtn","scrolled","pageYOffset","coords","documentElement","clientHeight","scrollTo","top","behavior","localStorage","theme","body","className","toggleThemeBtn","onclick","toggle","changeThemeButtons","querySelectorAll","applyTheme","themeName","button","style","display","concat","setItem","dataset","activeTheme","getItem"],"version":3,"file":"index.5df5e9d0.js.map"}