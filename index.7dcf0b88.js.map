{"mappings":"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","sources":["src/index.js","src/js/homeRendering.js","src/js/theme.js"],"sourcesContent":["import './js/loader.js'\nimport './js/form.js';\nimport './js/homeRendering.js';\nimport './js/apiServiсe.js';\nimport './js/scroll.js';\nimport './js/modal-footer.js';\nimport './js/popup-modal';\nimport './js/theme';\n\n\n","import filmsAPI from './apiServiсe';\nimport { renderCard } from './renderCard';\nimport { getGenreName } from './getGenreName';\n\nconst trendingFilms = new filmsAPI();\nconst mainSection = document.querySelector('.card__list');\nconst homeBtn = document.querySelector('.header__nav-link');\nconst logoLink = document.querySelector('.header__logo');\n\nfunction TrendingFilms(event) {\n  event.preventDefault();\n  document.querySelector('#search-form').firstElementChild.value = '';\n  trendingFilms.currentPage = 1;\n  mainSection.innerHTML = '';\n  trendingFilms.getTrendingFilms().then(result => {\n    result.data.results.forEach(film => {\n      const {\n        title,\n        name,\n        poster_path,\n        id,\n        vote_average,\n        genre_ids,\n        first_air_date,\n        release_date,\n      } = film;\n      let genre = getGenreName(genre_ids);\n      try {\n        setTimeout(() => {\n          renderCard(\n            id,\n            poster_path,\n            title,\n            name,\n            genre,\n            first_air_date,\n            release_date,\n            vote_average\n          );\n        }, 100);\n\n        setTimeout(() => {\n          infinteScroll();\n        }, 500);\n      } catch (error) {\n        console.log('error');\n      }\n    });\n  });\n}\nlogoLink.addEventListener('click', TrendingFilms);\nhomeBtn.addEventListener('click', TrendingFilms);\nwindow.addEventListener('load', TrendingFilms);\n\nfunction LoadMorePhoto() {\n  trendingFilms.currentPage += 1;\n  trendingFilms.getTrendingFilms().then(result => {\n    result.data.results.forEach(film => {\n      const {\n        title,\n        name,\n        poster_path,\n        id,\n        vote_average,\n        genre_ids,\n        first_air_date,\n        release_date,\n      } = film;\n      let genre = getGenreName(genre_ids);\n      try {\n        setTimeout(() => {\n          renderCard(\n            id,\n            poster_path,\n            title,\n            name,\n            genre,\n            first_air_date,\n            release_date,\n            vote_average\n          );\n        }, 500);\n        setTimeout(() => {\n          infinteScroll();\n        }, 500);\n      } catch (error) {\n        console.log('error');\n      }\n    });\n  });\n  setTimeout(() => {\n    infinteScroll();\n  }, 500);\n}\n\nconst infinteObserver = new IntersectionObserver(\n  ([entry], observer) => {\n    // перевірка останього елемента\n    if (entry.isIntersecting) {\n      // перестаємо його відслідковувати\n      observer.unobserve(entry.target);\n      // Завантажуємо нову порцію контенту\n      LoadMorePhoto();\n    }\n  },\n  { threshold: 0.5 }\n);\n\nconst infinteScroll = () => {\n  const lastCard = document.querySelector('.card__item:last-child');\n  if (lastCard) {\n    infinteObserver.observe(lastCard);\n  }\n};\n","if (!localStorage.theme) localStorage.theme = \"light\" \ndocument.body.className = localStorage.theme\n\n\ntoggleThemeBtn.onclick = () => {\n    document.body.classList.toggle(\"dark\")\n    // localStorage.theme = document.body.className || \"light\"\n    \n   \n}\n\nlet changeThemeButtons = document.querySelectorAll('.changeTheme');\n\nchangeThemeButtons.forEach(button => {\n    button.addEventListener('click', function () {\n        applyTheme(this.dataset.theme)\n        // let theme = this.dataset.theme;\n        // alert (theme)\n        // applyTheme(theme);\n        localStorage.setItem('theme', this.dataset.theme)\n    });\n});\nfunction applyTheme(themeName) {\n    \n    changeThemeButtons.forEach(button => {\n        button.style.display = 'block';\n    \n    });\n    document.querySelector(`[data-theme=\"${themeName}\"]`).style.display = 'none';\n    localStorage.setItem('theme', themeName);\n}\n\n\nlet activeTheme = localStorage.getItem('theme'); \n\nif(activeTheme === null || activeTheme === 'light') { \n    applyTheme('light');\n} else if (activeTheme === 'dark') { \n    applyTheme('dark');\n}"],"names":["require","parcelHelpers","_renderCard","_getGenreName","trendingFilms","default","mainSection","document","querySelector","homeBtn","TrendingFilms","event","preventDefault","firstElementChild","value","currentPage","innerHTML","getTrendingFilms","then","result","data","results","forEach","film","title","name","poster_path","id","vote_average","genre_ids","first_air_date","release_date","genre","getGenreName","setTimeout","renderCard","infinteScroll","error","console","log","addEventListener","window","infinteObserver","IntersectionObserver","param","observer","entry","isIntersecting","unobserve","target","threshold","lastCard","observe","localStorage","theme","body","className","toggleThemeBtn","onclick","classList","toggle","changeThemeButtons","querySelectorAll","applyTheme","themeName","button","style","display","concat","setItem","this","dataset","activeTheme","getItem"],"version":3,"file":"index.7dcf0b88.js.map"}